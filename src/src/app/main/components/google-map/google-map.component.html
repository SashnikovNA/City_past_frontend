<ng-container *ngIf="loaded$ | async">
  <google-map
    class="map"
    height="100%"
    (mapClick)="addMarker($event)"
    [options]="options"
    width="100%"
  >
    <ng-container *ngFor="let marker of markers$ | async">
      <map-marker
        [position]="{
          lat: marker.coordinates.latitude,
          lng: marker.coordinates.longitude
        }"
      ></map-marker>
    </ng-container>
  </google-map>
</ng-container>
